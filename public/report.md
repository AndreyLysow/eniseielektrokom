# –û—Ç—á–µ—Ç –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤

## 1. –í–≤–µ–¥–µ–Ω–∏–µ
–í —Ä–∞–º–∫–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã —Ç—Ä–∏ —Å–µ—Ä–≤–µ—Ä–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–∞—Å—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Ansible, –∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª–∞—Å—å —á–µ—Ä–µ–∑ —Ä–æ–ª–∏ –∏ –ø–ª–µ–π–±—É–∫–∏. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Ansible –±—ã–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –≤—ã–≥—Ä—É–∂–µ–Ω –≤ GitHub.

## 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤

### 2.1 –ü–µ—Ä–≤—ã–π —Å–µ—Ä–≤–µ—Ä (Ansible, Zabbix, Grafana, OpenVPN)
–ù–∞ –ø–µ—Ä–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- Ansible
- Zabbix Server
- Grafana
- OpenVPN (—Å–µ—Ä–≤–µ—Ä)
- Filebeat

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Ansible –±—ã–ª –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä.

### 2.2 –í—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä (Web-—Å–µ—Ä–≤–µ—Ä, Zabbix-agent, Filebeat)
–ù–∞ –≤—Ç–æ—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–µ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- Nginx
- Apache
- PHP
- Zabbix-agent
- Bind (DNS)
- Mail-—Å–µ—Ä–≤–µ—Ä
- Filebeat

### 2.3 –¢—Ä–µ—Ç–∏–π —Å–µ—Ä–≤–µ—Ä (–ë–î, Zabbix-agent, ELK)
–ù–∞ —Ç—Ä–µ—Ç—å–µ–º —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- PostgreSQL 12
- Zabbix-agent
- ELK Stack

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ansible
Ansible –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –ë—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Ä–æ–ª–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è Ansible –≤–Ω–µ—Å–µ–Ω—ã –≤ —Ñ–∞–π–ª `hosts`. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Ansible –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `ansible.cfg`.

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenVPN
OpenVPN-—Å–µ—Ä–≤–µ—Ä –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –û—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ –±—ã–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ Ansible.

## 5. –†–∞–±–æ—Ç–∞ —Å GitHub
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Ansible –±—ã–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `/etc/ansible/` –∏ –≤—ã–≥—Ä—É–∂–µ–Ω –≤ GitHub. –ë—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
git init
git add .
git commit -m 'Initial commit with Ansible setup'
git branch -M main
git remote add origin https://github.com/<USERNAME>/diplomSF54.git
git push -u origin main
```

## 6. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `mentor2` —Å –ø–∞—Ä–æ–ª–µ–º `sf54`. –≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ `sudo`.

## 7. –í—ã–≤–æ–¥
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞. –†–∞–±–æ—Ç–∞ —Å Ansible –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ —Ä–æ–ª–∏ –∏ –ø–ª–µ–π–±—É–∫–∏. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub, –∏ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä–∞–º –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ OpenVPN.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
/etc/ansible
‚îú‚îÄ‚îÄ ansible.cfg             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Ansible
‚îú‚îÄ‚îÄ hosts                   # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ site.yml                # –ì–ª–∞–≤–Ω—ã–π playbook
‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ roles/                  # –ö–∞—Ç–∞–ª–æ–≥ —Ä–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ zabbix_server/      # –†–æ–ª—å Zabbix Server
‚îÇ   ‚îú‚îÄ‚îÄ grafana/            # –†–æ–ª—å Grafana
‚îÇ   ‚îú‚îÄ‚îÄ filebeat/           # –†–æ–ª—å Filebeat
‚îÇ   ‚îú‚îÄ‚îÄ openvpn/            # –†–æ–ª—å OpenVPN
‚îÇ   ‚îú‚îÄ‚îÄ nginx/              # –†–æ–ª—å Nginx
‚îÇ   ‚îú‚îÄ‚îÄ apache/             # –†–æ–ª—å Apache
‚îÇ   ‚îú‚îÄ‚îÄ php/                # –†–æ–ª—å PHP
‚îÇ   ‚îú‚îÄ‚îÄ zabbix_agent/       # –†–æ–ª—å Zabbix Agent
‚îÇ   ‚îú‚îÄ‚îÄ bind/               # –†–æ–ª—å Bind DNS
‚îÇ   ‚îú‚îÄ‚îÄ mail/               # –†–æ–ª—å Mail
‚îÇ   ‚îú‚îÄ‚îÄ postgresql/         # –†–æ–ª—å PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ elk/                # –†–æ–ª—å ELK Stack
‚îú‚îÄ‚îÄ group_vars/             # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≥—Ä—É–ø–ø —Ö–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ host_vars/              # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ playbooks/              # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ playbooks
‚îî‚îÄ‚îÄ .gitignore              # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
```

## –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π

| –†–æ–ª—å           | –°–µ—Ä–≤–µ—Ä        | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|----------------|---------------|----------------------------------|
| zabbix_server  | monitoring    | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Zabbix Server      |
| grafana        | monitoring    | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Grafana            |
| filebeat       | all           | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Filebeat             |
| openvpn        | monitoring    | VPN-—Å–µ—Ä–≤–µ—Ä                       |
| nginx          | web           | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Nginx              |
| apache         | web           | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Apache             |
| php            | web           | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PHP                |
| zabbix_agent   | web, database | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Zabbix Agent       |
| bind           | web           | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç DNS —Å–µ—Ä–≤–µ—Ä         |
| mail           | web           | –ü–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä                  |
| postgresql     | database      | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PostgreSQL         |
| elk            | database      | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç ELK Stack          |

# –û—Ç—á–µ—Ç –ø–æ –¥–∏–ø–ª–æ–º—É: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –ø–æ–º–æ—â—å—é Ansible

## üìå –í–≤–µ–¥–µ–Ω–∏–µ
–í —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Ansible. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –≤–µ–±-—Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

## üìå –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Ansible Playbooks –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤.
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤.

## üìå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Å–µ—Ä–≤–µ—Ä (monitoring)
- Zabbix Server ‚Äì –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- Grafana ‚Äì –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫.
- Filebeat ‚Äì —Å–±–æ—Ä –ª–æ–≥–æ–≤.
- OpenVPN ‚Äì VPN-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏.

### –í–µ–±-—Å–µ—Ä–≤–µ—Ä (web)
- Nginx ‚Äì –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.
- Apache ‚Äì –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.
- PHP ‚Äì —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.
- Zabbix Agent ‚Äì –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
- Filebeat ‚Äì —Å–±–æ—Ä –ª–æ–≥–æ–≤.
- Bind ‚Äì DNS-—Å–µ—Ä–≤–µ—Ä.
- Mail ‚Äì –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä.

### –°–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (database)
- PostgreSQL-12 ‚Äì —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.
- Zabbix Agent ‚Äì –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
- ELK (Elasticsearch, Logstash, Kibana) ‚Äì –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö.

## üìå –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/YOUR_USERNAME/ansible-diploma.git
cd ansible-diploma
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ansible
–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `ansible.cfg`, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è:
```ini
[defaults]
inventory = ./hosts
remote_user = ansible
ask_pass = false
```
–£–±–µ–¥–∏—Å—å, —á—Ç–æ `inventory.ini` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤.

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –ø–ª–µ–π–±—É–∫–æ–≤
```bash
ansible-playbook -i inventory.ini site.yml
```

## üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é Ansible  
‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ä–æ–ª–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GitHub –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π  
üî• –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
